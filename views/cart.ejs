
        


<%- include ('./otherheader.ejs') %>


<style>
  .quantity {
  position: relative;
}

input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button
{
  -webkit-appearance: none;
  margin: 0;
}

input[type=number]
{
  -moz-appearance: textfield;
}

.quantity input {
  width: 70px;
  height: 42px;
  line-height: 1.65;
  float: left;
  display: block;
  padding: 0;
  margin: 0;
  padding-left: 20px;
  border: 1px solid #eee;
}

.quantity input:focus {
  outline: 0;


}

.quantity-nav {
  float: left;
  position: relative;
  height: 42px;
}

.quantity-button {
  position: relative;
  cursor: pointer;
  border-left: 1px solid #B9B9B9;
  width: 23px;
  text-align: center;
  color: #333;
  font-size: 15px;
  font-family: "Trebuchet MS", Helvetica, sans-serif !important;
  line-height: 1.7;
  -webkit-transform: translateX(-100%);
  transform: translateX(-100%);
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -o-user-select: none;
  user-select: none;
}

.quantity-button.quantity-up {
  position: absolute;
  height: 50%;
  top: 0;
  border-bottom: 1px solid #B9B9B9;
}

.quantity-button.quantity-down {
  position: absolute;
  bottom: -1px;
  height: 50%;
}
</style>


<aside id="notifications">
  <div class="container">
    
    
    
      </div>
</aside>
      
      <section id="wrapper">
       
        <nav data-depth="2" class="breadcrumb hidden-sm-down">
  <div class="container container-large">
    <ol itemscope itemtype="http://schema.org/BreadcrumbList">
      
                  
            <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
              <a itemprop="item" href="https://leffet.in/">
                <span itemprop="name">Home</span>
              </a>
              <meta itemprop="position" content="1">
            </li>
          
                  
            <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
              <a itemprop="item" href="#">
                <span itemprop="name">Cart</span>
              </a>
              <meta itemprop="position" content="2">
            </li>
          
              
    </ol>
  </div>
</nav>      
      

              
              <div class="container  ">
                
          <div class="row">
            

            
  <div id="content-wrapper" class="col-lg-12 col-xs-12">
    
    
<div class="spinner-bg">
  <div class="spinner-lazy">
  <div class="double-bounce1"></div>
  <div class="double-bounce2"></div>
  </div>
  </div>
  <section id="main">
    <div class="cart-grid row">

      <!-- Left Block: cart product informations & shpping -->
      <div class="cart-grid-body col-xs-12 col-lg-8">

        <!-- cart products detailed -->
        <div class="card cart-container">
          <div class="card-block">
            <h1 class="h1">Shopping Cart</h1>
          </div>
          <hr class="separator">
          
            
  <div class="cart-overvie js-cart" data-refresh-url="localhost:5000/mycart">
        <ul class="cart-items">

          <% for(i=0;i<result[1].length;i++){%>


              <li class="cart-item">
          
            <div class="product-line-grid row">
  <!--  product left content: image-->
  <div class="product-line-grid-left col-md-3 col-xs-4">
    <span class="product-image media-middle">
      <img src="/images/<%=result[1][i].bookingimage%>" alt="<%=result[1][i].name%>" style="width: 100px;">
    </span>
  </div>
<!-- ₹5,500 -->
  <!--  product left body: description -->
  <div class="product-line-grid-body col-md-4 col-xs-8">
    <div class="product-line-info">
      <a class="label" href="/product?id=<%=result[1][i].booking_id%>" data-id_customization="0"><%=result[1][i].bookingname%></a>
    </div>

    <div class="product-line-info product-price h5 ">
            <div class="current-price">
        <span class="price">₹<%=result[1][i].oneprice%></span>
              </div>
    </div>

    <br/>

          <div class="product-line-info">

        
            <span class="label">Size:</span>
            <span class="value"><%=result[1][i].size%></span>

      </div>
    
      </div>

  <!--  product left body: description -->
  <div class="product-line-grid-right product-line-actions col-md-5 col-xs-12">
    <div class="row">
      <div class="col-xs-4 hidden-md-up"></div>
      <div class="col-md-10 col-xs-5">
        <div class="row" onClick="myfun()">
          <div class="col-md-6 col-xs-6 col-sp-12 qty">


            <div class="quantity" price = "<%=result[1][i].oneprice%>" booking_id="<%=result[1][i].booking_id%>" categoryid="<%=result[1][i].categoryid%>" size="<%=result[1][i].size%>">
              <input type="number" id="myquantity" min="1" max="90" step="1"  value="<%=result[1][i].quantity%>" style='font-size: 17px;float: left;text-align: left;'>
            </div>

                          <!-- <input
                class="js-cart-line-product-quantity cnjk"
                data-down-url="/cart-handler?quantity=<%=result[1][i].quantity-1%>&price=<%=result[1][i].oneprice%>&booking_id=<%=result[1][i].booking_id%>&categoryid=<%=result[1][i].categoryid%>&size=<%=result[1][i].size%>"
                data-up-url="/cart-handler?quantity=<%=(+result[1][i].quantity)+1%>&price=<%=result[1][i].oneprice%>&booking_id=<%=result[1][i].booking_id%>&categoryid=<%=result[1][i].categoryid%>&size=<%=result[1][i].size%>"
                data-update-url="/mycart"
                
                data-product-id="<%=result[1][i].booking_id%>"
                type="number"
                value="<%=result[1][i].quantity%>"
                name="product-quantity-spin"
                min="1"
                readonly
              /> -->
                      </div>
          <div class="col-md-6 col-xs-2  col-sp-12 price">
            <span class="product-price">
              <strong>
                <%=result[1][i].price%>
                              </strong>
            </span>
          </div>
        </div>
      </div>
      <div class="col-md-2 col-xs-3">
        <div class="cart-line-product-actions ">
          <a
              rel                         = "nofollow"
              href                        = "/delete?id=<%=result[1][i].id%>"
              data-id-product             = "92"
              data-id-product-attribute   = "362"
              data-id-customization   	  = ""
          >
                        <i class="material-icons float-xs-left">delete</i>
                      </a>

          
            
          

        </div>
      </div>
    </div>
  </div>

  <div class="clearfix"></div>
</div>
          
        </li>

        <% } %>
                   
                  </ul>
      </div>

          
        </div>

        
          <a class="btn btn-primary" href="/">
            <i class="material-icons">&#xE5CB;</i>Continue shopping
          </a>
        

        <!-- shipping informations -->
        
          
        
      </div>

      <!-- Right Block: cart subtotal & cart total -->
      <div class="cart-grid-right col-xs-12 col-lg-4">

        
          <div class="card cart-summary">

            
              
            

            
              
<div class="cart-detailed-totals">

  <div class="card-block">
                  <div class="cart-summary-line" id="cart-subtotal-products">
          <span class="label js-subtotal">
            <%=result[3][0].counter%> items
                      </span>
          <span class="value">₹<%=result[2][0].totalprice%></span>
                  </div>
                                  <div class="cart-summary-line" id="cart-subtotal-shipping">
          <span class="label">
                          Shipping
                      </span>
          <span class="value">Free</span>
                        <div><small class="value"></small></div>
                  </div>
                      </div>

  
      

  <hr class="separator">

  <div class="card-block">
    <div class="cart-summary-line cart-total">
      <span class="label">Total (tax incl.)</span>
      <span class="value">₹<%=result[2][0].totalprice%></span>
    </div>

    <div class="cart-summary-line">
      <small class="label"></small>
      <small class="value"></small>
    </div>
  </div>

  <hr class="separator">
</div>

            

            
              
  <div class="checkout cart-detailed-actions card-block">
          <div class="text-xs-center">
        <a href="/checkout" class="btn btn-outline">Proceed to checkout</a>
        
      </div>
      </div>

            

          </div>
        

        
          <div class="blockreassurance_product">
               <div>
            <span class="item-product">
                                                        <img src="/leffet.in/modules/blockreassurance/views/img/img_perso/freedom.png">
                                    &nbsp;
            </span>
                          <p class="block-title" style="color:#000000;">OPEN TO CUSTOMISATION*</p>
             
                    </div>
            <div>
            <span class="item-product">
                                                        <img src="/leffet.in/modules/blockreassurance/views/img/img_perso/timeless-classic-icon.png">
                                    &nbsp;
            </span>
                          <p class="block-title" style="color:#000000;">TIMELESS CLASSICS*</p>
             
                    </div>
            <div>
            <span class="item-product">
                                                        <img src="/leffet.in/modules/blockreassurance/views/img/img_perso/craftedfor-class-icon.png">
                                    &nbsp;
            </span>
                          <p class="block-title" style="color:#000000;">CRAFTED FOR CLASS*</p>
             
                    </div>
        <div class="clearfix"></div>
</div>

<div class="bootstrap">
	</div>
        

      </div>

    </div>
  </section>

    
  </div>


            
          </div>
                  </div>
              	
      </section>

   

<%- include ('./indexfooter.ejs') %> 

<script>
    jQuery('<div class="quantity-nav"><div class="quantity-button quantity-up">+</div><div class="quantity-button quantity-down">-</div></div>').insertAfter('.quantity input');
    jQuery('.quantity').each(function() {
      var spinner = jQuery(this),
        input = spinner.find('input[type="number"]'),
        btnUp = spinner.find('.quantity-up'),
        btnDown = spinner.find('.quantity-down'),
        min = input.attr('min'),
        max = input.attr('max');

      btnUp.click(function() {
        var oldValue = parseFloat(input.val());
        if (oldValue >= max) {
          var newVal = oldValue;
        } else {
          var newVal = oldValue + 1;
        }
        spinner.find("input").val(newVal);
        spinner.find("input").trigger("change");
      });

      btnDown.click(function() {
        var oldValue = parseFloat(input.val());
        if (oldValue <= min) {
          var newVal = oldValue;
        } else {
          var newVal = oldValue - 1;
        }
        spinner.find("input").val(newVal);
        spinner.find("input").trigger("change");
      });

    });



// $('.quantity-up').click(function(){
//   alert('hi')
// })


// $('.quantity-down').click(function(){
//   alert('hi12')
// })


$('.quantity').click(function(){
  let quantity = $('#myquantity').val()
  let price = $(this).attr('price')
  let booking_id = $(this).attr('booking_id')
  let categoryid = $(this).attr('categoryid')
  let size = $(this).attr('size')
  // alert(size)

  $.post('/cart-handler1',{quantity,price,booking_id,categoryid,size},data=>{
    window.location.href = '/mycart'
  })
})

</script>
