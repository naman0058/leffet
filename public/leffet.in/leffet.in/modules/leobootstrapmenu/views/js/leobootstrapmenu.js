function auto_height_off(e){wrapper_height=$("#page").innerHeight(),ul_height=e.find(".leo-top-menu ul").innerHeight(),ul_offset_top=e.find(".leo-top-menu ul").offset().top,ul_offset_top+ul_height>wrapper_height?$("#page").hasClass("megamenu-autoheight")||$("#page").addClass("megamenu-autoheight"):$("#page").removeClass("megamenu-autoheight")}function auto_height(e){windowHeight=$(window).innerHeight(),$(".off-canvas-nav-megamenu[data-megamenu-id="+e+"] .offcanvas-mainnav").css("min-height",windowHeight)}function off_canvas_active(){$("body").hasClass("off-canvas-active")?$("body").removeClass("off-canvas-active").addClass("off-canvas-inactive"):$("body").hasClass("off-canvas-inactive")?$("body").removeClass("off-canvas-inactive").addClass("off-canvas-active"):$("body").addClass("off-canvas-active")}function set_target_blank(e,a){e?a.find(".leo-top-menu li a").each(function(){var e;$(this).hasClass("has-category")&&this.hasAttribute("data-toggle")&&"_blank"==$(this).attr("target")&&(e=$(this).attr("data-toggle"),$(this).removeAttr("data-toggle"),$(this).attr("remove-data-toggle",e))}):a.find(".leo-top-menu li a").each(function(){var e;$(this).hasClass("has-category")&&this.hasAttribute("remove-data-toggle")&&"_blank"==$(this).attr("target")&&(e=$(this).attr("remove-data-toggle"),$(this).removeAttr("remove-data-toggle"),$(this).attr("data-toggle",e))})}function scrollSliderBarMenu(e){var a=e,n=null;$(n).length&&991<=$(window).width()&&showOrHideSliderBarMenu(n,a,1),e.find(".verticalmenu-button").click(function(){$(a).hasClass("active")?showOrHideSliderBarMenu(n,a,0):showOrHideSliderBarMenu(n,a,1)});var t=$(window).width();$(window).resize(function(){$(window).width()!=t&&($(window).width()<991?$(a).hasClass("active")&&showOrHideSliderBarMenu(n,a,0):$(n).length&&!$(a).hasClass("active")&&showOrHideSliderBarMenu(n,a,1),t=$(window).width())})}function showOrHideSliderBarMenu(e,a,n){n?($(a).addClass("active"),$(e).length&&991<=$(window).width()&&e.css("padding-top",$(".block_content",$(a)).height()+"px")):($(a).removeClass("active"),$(e).length&&e.css("padding-top",""))}$(document).ready(function(){$.each(list_menu,function(e,t){var a,n,i;"horizontal"==t.type?(i=$(".cavas_menu[data-megamenu-id="+t.id+"]"),"index"==$("body").attr("id")&&(isHomeMenu=1),i.find(".megamenu > li > a").each(function(){if(menuURL=$(this).attr("href").replace("https://","").replace("http://","").replace("www.","").replace(/#\w*/,""),currentURL==menuURL||currentURL.replace(current_link,"")==menuURL||isHomeMenu)return $(this).parent().addClass("active"),!1}),$(window).width()<=767?set_target_blank(!1,i):set_target_blank(!0,i),1==t.show_cavas?($.fn.OffCavasmenu=function(e){$.extend({},{opt1:null,text_warning_select:text_warning_select_txt,text_confirm_remove:text_confirm_remove_txt,JSON:null},e);return this.each(function(){var e,a,n=i.find(".navbar-toggler");n.length&&(e=$("<section class='off-canvas-nav-megamenu' data-megamenu-id="+t.id+"><nav class='offcanvas-mainnav' ><div class='off-canvas-button-megamenu'><span class='off-canvas-nav'></span>"+close_bt_txt+"</div></nav></section>"),a=$(n.data("target")).find(".megamenu").clone(),$("body").append(e),$("body main").append("<div class='megamenu-overlay' data-megamenu-id="+t.id+"></div>"),$(".megamenu-overlay[data-megamenu-id="+t.id+"]").click(function(){n.trigger("click")}),$(".off-canvas-nav-megamenu[data-megamenu-id="+t.id+"] .offcanvas-mainnav").append(a),$("html").addClass("off-canvas"),$(".off-canvas-nav-megamenu[data-megamenu-id="+t.id+"]").find(".off-canvas-button-megamenu").click(function(){off_canvas_active()}),n.is(":visible")&&$("body").removeClass("off-canvas-active").addClass("off-canvas-inactive"),n.click(function(){off_canvas_active(),$(".off-canvas-nav-megamenu").removeClass("active"),!$(".off-canvas-nav-megamenu[data-megamenu-id="+t.id+"]").hasClass("active")&&$("body").hasClass("off-canvas-active")&&($(".off-canvas-nav-megamenu[data-megamenu-id="+t.id+"]").addClass("active"),auto_height(t.id))}))}),this},i.OffCavasmenu(),i.find(".navbar-toggler").click(function(){return $("body,html").animate({scrollTop:0},0),!1}),$(".off-canvas-nav-megamenu[data-megamenu-id="+t.id+"]").find(".offcanvas-mainnav .caret").click(function(){$(this).parent("li").hasClass("open-sub")?($(this).parent("li").find(".dropdown-menu").first().slideUp("fast",function(){auto_height(t.id)}),$(this).parent("li").removeClass("open-sub")):($(this).parent("li").siblings(".open-sub").find(".dropdown-menu").first().slideUp("fast"),$(this).parent("li").siblings().removeClass("open-sub"),$(this).parent("li").find(".dropdown-menu").first().slideDown("fast",function(){auto_height(t.id)}),$(this).parent("li").addClass("open-sub"))}),$(window).resize(function(){991<$(window).width()?$("body").removeClass("off-canvas-active").addClass("off-canvas-inactive"):auto_height(t.id)})):(a=i.find(".navbar-toggler"),n=i.find(".leo-top-menu"),a.click(function(){n.hasClass("in")?i.removeClass("active"):i.hasClass("active")||i.addClass("active")}),i.find(".leo-top-menu .dropdown-toggle").removeAttr("disabled"),i.find(".dropdown-toggle").click(function(){if($(window).width()<=767)return!$(this).parent("li").find("div:first").hasClass("level2")}),i.find(".leo-top-menu li a").each(function(){this.hasAttribute("data-toggle")&&$(this).removeAttr("data-toggle")}),i.find(".leo-top-menu li a.dropdown-toggle").click(function(){!$(this).parent().hasClass("open")&&this.href&&"#"!=this.href&&(window.location.href=this.href)}),i.find(".leo-top-menu .caret").click(function(){$(this).parent("li").hasClass("open-sub")?($(this).parent("li").find(".dropdown-menu").first().slideUp("fast",function(){auto_height_off(i)}),$(this).parent("li").removeClass("open-sub")):($(this).parent("li").siblings(".open-sub").find(".dropdown-menu").first().slideUp("fast"),$(this).parent("li").siblings().removeClass("open-sub"),$(this).parent("li").find(".dropdown-menu").first().slideDown("fast",function(){auto_height_off(i)}),$(this).parent("li").addClass("open-sub"))}),543<$(document).width()&&i.find(".leo-top-menu .dropdown-menu").css("display",""),auto_height_off(i),$(window).resize(function(){auto_height_off(i),543<$(document).width()&&(i.find(".leo-top-menu .dropdown").removeClass("open-sub"),i.find(".leo-top-menu .dropdown-submenu").removeClass("open-sub"),i.find(".leo-top-menu .dropdown-menu").css("display",""))}))):((i=$(".leo-verticalmenu[data-megamenu-id="+t.id+"]")).find(".verticalmenu .dropdown-toggle").removeAttr("disabled"),i.find(".verticalmenu .dropdown-toggle").click(function(){if($(window).width()<=767)return!$(this).parent("li").find("div:first").hasClass("level2")}),i.find(".verticalmenu .dropdown-toggle").removeAttr("data-toggle"),i.find(".verticalmenu .caret").click(function(){if($(this).parents(".verticalmenu").hasClass("active-button")){var e=$(this).parent("li");return e.hasClass("open-sub")?e.find(".dropdown-menu").first().slideUp("fast",function(){e.removeClass("open-sub")}):(0<e.siblings(".open-sub").length&&e.siblings(".open-sub").find(".dropdown-menu").first().slideUp("fast",function(){e.siblings(".open-sub").removeClass("open-sub")}),e.find(".dropdown-menu").first().slideDown("fast",function(){e.addClass("open-sub")})),!1}}),991<$(window).width()?(i.find(".verticalmenu").addClass("active-hover"),i.find(".verticalmenu").removeClass("active-button"),i.find(".verticalmenu .dropdown-menu").css("display",""),i.find(".leo-verticalmenu").removeClass("active")):(i.find(".verticalmenu").removeClass("active-hover"),i.find(".verticalmenu").addClass("active-button")),$(window).resize(function(){991<$(window).width()?(i.find(".verticalmenu .dropdown").removeClass("open-sub"),i.find(".verticalmenu .dropdown-submenu").removeClass("open-sub"),i.find(".verticalmenu").addClass("active-hover"),i.find(".verticalmenu").removeClass("active-button"),i.find(".verticalmenu .dropdown-menu").css("display",""),i.removeClass("active")):(i.find(".verticalmenu").removeClass("active-hover"),i.find(".verticalmenu").addClass("active-button"))}),scrollSliderBarMenu(i)),void 0!==t.list_tab&&0<t.list_tab.length&&$.each(t.list_tab,function(e,a){i.find("#tabhtml"+a+" .nav a").click(function(e){e.preventDefault(),$(this).tab("show")}),$(".off-canvas-nav-megamenu[data-megamenu-id="+t.id+"]").find("#tabhtml"+a+" .nav a").click(function(e){var a,n;e.preventDefault(),$(this).hasClass("active")||(a=$(this).closest(".panel-group"),n=$(this).attr("href"),a.find(".nav-link").removeClass("active"),a.find(".nav-item").removeClass("active"),a.find(".tab-pane").removeClass("active"),$(this).addClass("active"),$(this).parents(".nav-item").addClass("active"),a.find(n).addClass("active"))})}),void 0!==t.level&&void 0!==t.limit&&(i.find(".widget-category_image ul.level0").each(function(){$(this).find("ul").removeClass("dropdown-sub dropdown-menu")}),i.find(".widget-category_image ul.level0").each(function(){var e=$(this).parents(".widget-category_image").data("level"),a=$(this).parents(".widget-category_image").data("limit");$(this).find("ul.level"+e).parent().find(".caret").remove(),$(this).find("ul.level"+e+" li").remove();$(this).find("ul.level"+(e-1)+" li").length;var n=0;0<e&&$(this).find("ul.level"+(e-1)+" >li").each(function(){a<(n+=1)&&$(this).remove()})}),$(".off-canvas-nav-megamenu[data-megamenu-id="+t.id+"] .offcanvas-mainnav").find(".widget-category_image ul.level0").each(function(){var e=$(this).parents(".widget-category_image").data("level"),a=$(this).parents(".widget-category_image").data("limit");$(this).find("ul.level"+e).parent().find(".caret").remove(),$(this).find("ul.level"+e+" li").remove();$(this).find("ul.level"+(e-1)+" li").length;var n=0;0<e&&$(this).find("ul.level"+(e-1)+" >li").each(function(){a<(n+=1)&&$(this).remove()})})),"horizontal"==t.type&&$(window).resize(function(){$(window).width()<=767?set_target_blank(!1,i):set_target_blank(!0,i)}),"horizontal"==t.type&&1==t.show_cavas&&$(document.body).on("click",'[data-toggle="dropdown"]',function(){!$(this).parent().hasClass("open")&&this.href&&"#"!=this.href&&(window.location.href=this.href)})}),$(".dropdown-menu.level1").parent().removeClass("aligned-fullwidth"),$(".fancybox").fancybox({openEffect:"none",closeEffect:"none"})});